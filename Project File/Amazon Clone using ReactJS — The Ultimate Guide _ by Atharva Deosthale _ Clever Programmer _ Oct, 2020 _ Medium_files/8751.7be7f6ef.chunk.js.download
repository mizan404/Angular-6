(self.webpackChunklite=self.webpackChunklite||[]).push([[8751],{34353:(e,t,n)=>{"use strict";n.d(t,{w:()=>m});var r=n(67294),o=n.n(r),i=n(79316),a=n(62630),l=n(27572),c=n(28309);function u(){return(u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var s=o().createElement("path",{d:"M0 .35v15.3h20V.35H0zm6.95 9.38l3.05 2.5 3.05-2.5 4.88 4.73H2.07l4.88-4.73zM1.2 13.64V5.02l4.82 3.94-4.82 4.68zm12.78-4.68l4.82-3.94v8.62l-4.82-4.68zm4.82-7.42v1.94l-8.8 7.2-8.8-7.2V1.54h17.6z"});const d=function(e){return o().createElement("svg",u({width:20,height:16,viewBox:"0 0 20 16"},e),s)};var m=function(e){var t=e.buttonSize,n=void 0===t?"LARGE":t,o=e.buttonStyle,u=void 0===o?"STRONG":o,s=e.newsletterV3Id,m=e.showMailIcon,f=void 0===m||m,p=e.onClick,b=e.width,E=e.buttonText,h=void 0===E?"Get this newsletter":E,w=e.redirectUrl,g=(0,l.Qi)(),v=(0,a.Av)(),S=(0,c.Iq)();return r.createElement(i.zx,{buttonStyle:u,onClick:function(){v.event("newsletterV3.subscribeClicked",{newsletterV3Id:s,source:g}),p()},size:n,width:b,href:w},f&&r.createElement("span",{className:S((function(){return{marginRight:"8px"}})),"aria-hidden":"true"},r.createElement(d,null)),h)}},31429:(e,t,n)=>{"use strict";n.d(t,{x:()=>_,B:()=>L});var r=n(63038),o=n.n(r),i=n(28655),a=n.n(i),l=n(71439),c=n(67294),u=n(70561),s=n(26839),d=n(34353),m=n(46829),f=n(62630),p=n(88914);function b(){var e=a()(["\n  mutation unsubscribeNewsletterV3($newsletterV3Id: ID!) {\n    unsubscribeNewsletterV3(newsletterV3Id: $newsletterV3Id)\n  }\n"]);return b=function(){return e},e}function E(){var e=a()(["\n  mutation subscribeNewsletterV3($newsletterV3Id: ID!, $shouldRecordConsent: Boolean) {\n    subscribeNewsletterV3(\n      newsletterV3Id: $newsletterV3Id\n      shouldRecordConsent: $shouldRecordConsent\n    )\n  }\n"]);return E=function(){return e},e}var h=(0,l.Ps)(E()),w=(0,l.Ps)(b()),g=n(9785),v=n(62181),S=n(79316),y=n(64674),x=n(80735),T=n(27572),C=n(51512),V=n(14391),R=n(51064),N=n(27952),I=n(534);function O(){var e=a()(["\n  fragment NewsletterV3SubscribeButton_newsletterV3 on NewsletterV3 {\n    id\n    name\n    isSubscribed\n    type\n    user {\n      name\n    }\n    ...SusiClickable_newsletterV3\n    collection {\n      ...CollectionMetabar_collection\n      ...SusiClickable_collection\n      ...collectionDefaultBackgroundTheme_collection\n    }\n  }\n  ","\n  ","\n  ","\n  ","\n"]);return O=function(){return e},e}var k="newsletter_v3_promo",L=(0,l.Ps)(O(),s.JE,v.Os,v.GB,I.Gi),_=function(e){var t,n,r,i=e.newsletterV3,a=e.buttonLayout,l=void 0===a?"MULTI-LINE":a,s=e.helperTextColor,b=void 0===s?"LIGHTER":s,E=e.showHelperText,O=void 0===E||E,L=e.showMailIcon,_=void 0===L||L,P=e.buttonSize,A=void 0===P?"LARGE":P,B=e.buttonStyle,U=void 0===B?"STRONG":B,z=e.redirectUrl,M=(0,g.YC)().value,W=i.id,$=i.collection?i.collection:void 0,j=i.user?i.user:void 0,D=(0,p.w)(),G=(0,u.v9)((function(e){return{referrerSource:e.navigation.referrerSource}}),u.wU).referrerSource,F=(0,u.v9)((function(e){return e.config.productName})),Y=(0,R.O)(!1),H=o()(Y,3),q=H[0],Q=H[1],K=H[2];switch(i.type){case V.Rr.NEWSLETTER_TYPE_COLLECTION:t=i.name,n="You’re signed up for ".concat(t,".");break;case V.Rr.NEWSLETTER_TYPE_AUTHOR:t=null==j?void 0:j.name,n="You’re subscribed to ".concat(t)}z?(r="Learn more",_=!1):i.type===V.Rr.NEWSLETTER_TYPE_COLLECTION?r="Get this newsletter":i.type===V.Rr.NEWSLETTER_TYPE_AUTHOR&&(r="Subscribe");var X=function(e,t,n){var r=c.useState(n),i=o()(r,2),a=i[0],l=i[1],u=c.useState(!1),s=o()(u,2),d=s[0],b=s[1],E=(0,f.Av)(),g=(0,p.w)();d&&E.event("newsletterV3.subscribe.error",{newsletterV3Id:e});var v=(0,m.useMutation)(h,{variables:{newsletterV3Id:e,shouldRecordConsent:!1},onCompleted:function(e){var t=e.subscribeNewsletterV3;b(!t),t&&l(!0)}}),S=o()(v,1)[0],y=(0,m.useMutation)(w,{variables:{newsletterV3Id:e},onCompleted:function(e){var n=e.unsubscribeNewsletterV3;b(!n),n&&(l(!1),g({duration:"NEXTPAGE",message:"",toastStyle:"NEWSLETTER_UNSUBSCRIBE",extraParams:{newsletterName:t}}))}}),x=o()(y,1)[0];return{isSubscribed:a,hasError:d,setSubscribe:function(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];b(!1),t?S({variables:{newsletterV3Id:e,shouldRecordConsent:n}}):x()}}}(i.id,t,i.isSubscribed),Z=X.isSubscribed,J=X.hasError,ee=X.setSubscribe;c.useEffect((function(){if(G){var e=(0,C.P7)(G||"").susiEntry;["collection_newsletter_v3_landing","newsletter_v3_promo"].includes(void 0===e?"":e)&&Z&&D({duration:"NEXTPAGE",message:"",toastStyle:"NEWSLETTER_SUBSCRIBE",extraParams:{newsletterName:null==i?void 0:i.name,unsubscribeFn:function(){return ee(!1)}}})}}),[G]);var te=function(e){var t=e.children;return c.createElement(S.xu,{margin:"COMPACT"===l?"10px 20px 10px 0":"",xs:{margin:"10px 0 0 0"}},t)},ne=function(e){var t=e.children;return c.createElement(S.xu,{maxWidth:"COMPACT"===l?"380px":"",margin:"COMPACT"===l?"10px 0 10px 0":"10px 0 0 0"},c.createElement(x.F,{scale:"S",color:b,tag:"p"},t))},re=function(){var e=(0,N.Zu)(W),n={buttonSize:A,buttonStyle:U,newsletterV3Id:i.id,onClick:function(){z||(M&&M.allowEmailAddressSharingEditorWriter?ee(!0,!1):Q())},showMailIcon:_,buttonText:r,redirectUrl:z};return c.createElement(te,null,M?c.createElement(c.Fragment,null,c.createElement(d.w,n),c.createElement(S.QH,{onConfirm:function(){return ee(!0,!0)},isVisible:q,hide:K,titleText:"Confirm your subscription to ".concat(t),confirmText:"Confirm now",buttonStyle:"STRONG",buttonSize:"LARGE",showCancelButton:!1,withCloseButton:!1,titleTag:"h1",contentTag:"p",isDestructiveAction:!1},"By confirming, you agree to share your email address with the editors of newsletters and writers you've subscribed to so they can stay in contact with you outside of ".concat(F,". You can opt out of sharing your email address by unsubscribing in your Settings."))):c.createElement(v.R9,{operation:"register",newsletterV3:i,collection:$,actionUrl:e,susiEntry:k},c.createElement(d.w,n)))},oe=function(){return!O||z?c.createElement(c.Fragment,null):M?c.createElement(ne,null,"Emails will be sent to ",M.email,".",c.createElement(S.xu,null,c.createElement(v.R9,{operation:"login",newsletterV3:i,collection:$,susiEntry:k},c.createElement(S.rU,{onClick:function(){},linkStyle:"OBVIOUS",inline:!0,target:"_blank"},"Not you?")))):c.createElement(ne,null,"Create a free Medium account to get ",i.name," in your inbox.")};return c.createElement(c.Fragment,null,c.createElement(S.Yi,null,(function(e){return c.createElement(S.f6,{theme:(0,I.jN)($,e)},Z?c.createElement(c.Fragment,null,c.createElement(te,null,c.createElement(S.zx,{buttonStyle:"SUBTLE",size:"SMALL",onClick:function(){return ee(!1)}},"Unsubscribe")),O&&c.createElement(ne,null,n)):c.createElement(T.cW,{source:{newsletterV3Id:i.id},extendSource:!0},c.createElement(re,null),c.createElement(oe,null)))})),J&&c.createElement(y.Z,{toastStyle:"RETRYABLE_ERROR",isVisible:J,hide:function(){}}))}},55346:(e,t,n)=>{"use strict";n.d(t,{QL:()=>P,Lh:()=>B});var r=n(28655),o=n.n(r),i=n(59713),a=n.n(i),l=n(63038),c=n.n(l),u=n(46829),s=n(71439),d=n(67294),m=n(70561),f=n(34353),p=n(79316),b=n(28309),E={from:{transform:"rotate(0deg)"},to:{transform:"rotate(360deg)"}},h=function(e){return function(t){return{width:"20px",height:"20px",borderRadius:"50%",borderWidth:"1px",borderStyle:"solid",borderColor:"".concat(t.baseColor.border.light," transparent ").concat(t.baseColor.border.light," ").concat(t.baseColor.border.light),animation:"".concat(e," 1s infinite linear;")}}},w=function(e){var t=e.buttonSize,n=void 0===t?"LARGE":t,r=e.buttonStyle,o=void 0===r?"STRONG":r,i=(0,b.Iq)(),a=function(){var e=(0,b.om)({keyframesName:E}).keyframesName;return d.createElement("div",{className:i(h(e))})};return d.createElement("div",{style:{cursor:"wait"}},d.createElement(p.zx,{buttonStyle:o,onClick:function(){return null},size:n,width:"207px",disabled:!0},d.createElement((function(){return d.createElement(p.xu,null,d.createElement(p.xu,{display:"inline-block",float:"left",marginRight:"8px"},d.createElement(a,null)),d.createElement(p.xu,{float:"left"},"Loading.."))}),null)))},g=n(90738),v=n(14414),S=n(31285),y=n(22484),x=n(80735),T=n(27572),C=n(37581),V=n(49456),R=n(51299),N=n(27952),I=n(534);function O(){var e=o()(["\n  fragment NewsletterV3SubscribeByEmail_newsletterV3 on NewsletterV3 {\n    id\n    slug\n    collection {\n      ...collectionDefaultBackgroundTheme_collection\n      ...collectionUrl_collection\n    }\n  }\n  ","\n  ","\n"]);return O=function(){return e},e}function k(){var e=o()(["\n  mutation SendNewsletterSubscriptionAcctAuthEmail(\n    $newsletterV3Id: String!\n    $email: String!\n    $redirect: String\n    $captchaValue: String\n    $operation: String\n  ) {\n    sendNewsletterSubscriptionAcctAuthEmail(\n      newsletterV3Id: $newsletterV3Id\n      email: $email\n      redirect: $redirect\n      captchaValue: $captchaValue\n      operation: $operation\n    ) {\n      ... on SusiMethod {\n        value\n      }\n      ... on BadRequest {\n        message\n      }\n      ... on FailedChallenge {\n        message\n      }\n      ... on NotFound {\n        message\n      }\n    }\n  }\n"]);return k=function(){return e},e}function L(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?L(Object(n),!0).forEach((function(t){a()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):L(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var P=function(e){var t=e.centerContent,n=void 0!==t&&t,r=e.newsletterV3,o=(0,b.Fg)(),i=(0,T.pK)(),a=(0,T.hp)(),l=(0,m.v9)((function(e){return{authDomain:e.config.authDomain,currentLocation:e.navigation.currentLocation,productName:e.config.productName}}),m.wU),s=l.authDomain,E=l.currentLocation,h=l.productName,O=d.useState(""),k=c()(O,2),L=k[0],P=k[1],B=d.useState(""),U=c()(B,2),z=U[0],M=U[1],W=d.useState(!1),$=c()(W,2),j=$[0],D=$[1],G=d.useState(!1),F=c()(G,2),Y=F[0],H=F[1],q=d.useState(!1),Q=c()(q,2),K=Q[0],X=Q[1],Z=d.useState(!1),J=c()(Z,2),ee=J[0],te=J[1],ne=d.useState(""),re=c()(ne,2),oe=re[0],ie=re[1],ae="register",le=null==E.match("http[s]?://[^/]*".concat(s)),ce=r.collection,ue=r.id,se=r.slug,de=(0,N.Zu)(ue),me=ce?(0,N.iB)(se,s,ce):E;(0,u.useQuery)(S.qz,{fetchPolicy:"no-cache",skip:!de||le,onCompleted:function(e){var t=e.accountToken;return t&&ie((0,v.hQ)(me,i,a,de,t))}});var fe=function(e){P(e),D(!0),setTimeout((function(){return D(!1)}),y.zn),H(!1),X(!1)},pe=function(){(0,V.J)(z)?(X(!0),H(!0)):fe("Enter a valid email address.")},be=function(){fe("We couldn't process your request. Try again, or contact our support team.")},Ee=(0,u.useMutation)(A,{onCompleted:function(e){switch(e.sendNewsletterSubscriptionAcctAuthEmail.__typename){case"SusiMethod":M(z),te(!0);break;case"BadRequest":fe("Enter a valid email address.");break;case"FailedChallenge":case"NotFound":default:be()}},onError:be}),he=c()(Ee,1)[0],we={newsletterV3Id:ue,email:z,operation:ae,redirect:oe},ge=(0,R.U)();return d.createElement(p.f6,{theme:(0,I.jN)(ce,o)},d.createElement(p.xu,{alignItems:n?"center":"flex-start",display:"flex",flexDirection:"column",justifyContent:n?"center":"flex-start"},d.createElement(g.k,{callback:function(e){he({variables:_({captchaValue:e},we)})},shouldExecuteRecaptcha:Y}),d.createElement(p.xu,{display:ee?"none":"inline"},d.createElement(p.xu,{alignItems:"center",display:"flex",justifyContent:"space-between",sm:{alignItems:n?"center":"flex-start",flexDirection:"column",height:"130px",paddingTop:"16px"},height:"56px"},d.createElement(p.xu,{marginTop:L&&"25px",sm:{marginTop:"0"}},d.createElement(y.II,{errorMessage:L,handleInputChange:function(e){M(e.target.value.trim())},handleSubmit:pe,input:z,inputType:y.n$.EMAIL,isAnimating:j,textAlign:"start",placeholder:"Your email",width:"".concat({xl:375,lg:375,md:325,sm:450,xs:200,"":200}[ge],"px")})),d.createElement(p.xu,{marginBottom:"auto",marginLeft:"15px",sm:{marginLeft:"0px",marginTop:"15px"}},K?d.createElement(w,{newsletterV3Id:ue}):d.createElement(C.$,{eventData:{operation:ae}},d.createElement(f.w,{newsletterV3Id:ue,onClick:pe})))),d.createElement(p.xu,{paddingTop:L&&"20px",marginTop:"10px",sm:{marginTop:"0"}},d.createElement(x.F,{color:"DARKER",scale:"XS"},"By signing up, you will create a ",h," account if you don’t already have one. Review our"," ",d.createElement(p.rU,{href:(0,N.wo)(),linkStyle:"OBVIOUS",inline:!0,target:"_blank"},"Privacy Policy")," ","for more information about our privacy practices."))),d.createElement(p.xu,{display:ee?"inline":"none",marginBottom:"15px",marginTop:"5px"},d.createElement(x.F,{color:"DARKER",scale:"M"},d.createElement("b",null,"Check your inbox"),d.createElement("br",null),h," sent you an email at ",z," to complete your subscription."))))},A=(0,s.Ps)(k()),B=(0,s.Ps)(O(),I.Gi,N.nf)},51299:(e,t,n)=>{"use strict";n.d(t,{U:()=>c});var r=n(63038),o=n.n(r),i=n(67294),a=n(28309),l=n(36808),c=function(){var e=(0,a.Fg)(),t=i.useState("lg"),n=o()(t,2),r=n[0],c=n[1],u=function(){window.innerWidth>=e.breakpoints.xl?c("xl"):e.breakpoints.lg<=window.innerWidth&&window.innerWidth<e.breakpoints.xl?c("lg"):e.breakpoints.md<=window.innerWidth&&window.innerWidth<e.breakpoints.lg?c("md"):e.breakpoints.sm<=window.innerWidth&&window.innerWidth<e.breakpoints.md?c("sm"):c("xs")};return i.useEffect((function(){return u(),l.V6.on("resize",u),function(){return l.V6.off("resize",u)}}),[]),r}}}]);
//# sourceMappingURL=8751.7be7f6ef.chunk.js.map