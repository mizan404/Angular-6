(self.webpackChunklite=self.webpackChunklite||[]).push([[9296],{30353:(e,n,t)=>{"use strict";t.d(n,{C:()=>b});var r=t(59713),a=t.n(r),o=t(319),s=t.n(o),i=t(63038),c=t.n(i),l=t(50361),u=t.n(l),p=t(67294),d=t(70561),m=t(66893),f=t(34904),g=t(79316),h=t(28309),x=t(27438);function v(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function E(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?v(Object(t),!0).forEach((function(n){a()(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):v(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var y=function(e){return{width:"20px",height:"20px",fill:e.baseColor.text.lighter}},P=function(e){var n=e.parsedMessage;return p.createElement(g.xu,{marginLeft:"8px",maxWidth:"calc(100% - 33px)"},n.map((function(e,n){return"string"==typeof e?p.createElement(p.Fragment,{key:"parsedBroadcastMessage-".concat(n)},e):p.createElement(g.rU,{key:"parsedBroadcastMessage-".concat(n),linkStyle:"OBVIOUS",href:e.href,target:"_blank"},e.text)})))},b=function(e){var n=e.topics,t=e.tags,r=e.postId,a=(0,h.Iq)(),o=function(e){var n=e.postId,t=void 0===n?null:n,r=e.tags,a=void 0===r?[]:r,o=e.topics,s=void 0===o?[]:o,i=e.flag,c=Boolean((0,m.P5)(i)),l=(0,d.v9)((function(e){return{sharedGetOutTheVoteMessaging:e.config.sharedVoteMessaging,isUs:e.client.isUs}}),d.wU),u=l.sharedGetOutTheVoteMessaging,p=l.isUs,f=u.TAGS,g=u.TOPICS,h=u.MESSAGE,x=u.EXCLUDE_POSTS,v=f.map((function(e){return e.toLowerCase()})),E=g.map((function(e){return e.toLowerCase()})),y=x.includes(t||""),P=a.map((function(e){return v.includes((null==e?void 0:e.toLowerCase())||"")})).includes(!0),b=s.map((function(e){return E.includes((null==e?void 0:e.toLowerCase())||"")})).includes(!0);return{shouldShowVoteMessaging:c&&p&&(P||b)&&!y,voteMessage:h}}({topics:n,tags:t,flag:"vote_banner",postId:r}),i=o.shouldShowVoteMessaging,l=o.voteMessage,v=p.useCallback((function(){return function(e){for(var n=u()(e),t=n.markups,r=n.text,a=[r],o=0,i=Object.entries(t);o<i.length;o++){var l=c()(i[o],2),p=l[0],d=l[1],m=a.pop();if(!m||"string"!=typeof m){a=[r];break}var f=m.substring(0,d.start),g=m.substring(d.start,d.end),h=m.substring(d.end);a=[].concat(s()(a),[f,E({text:g},d),h]);for(var x=Number(p)+1;x<t.length;x++)t[x].start=t[x].start-d.end,t[x].end=t[x].end-d.end}return a}(l)}),[l]);if(!i)return null;var b=v();return p.createElement(f.p,{scale:f.C.S},p.createElement(g.xu,{display:"flex"},p.createElement(x.Z,{className:a(y)}),p.createElement(P,{parsedMessage:b})))}},46387:(e,n,t)=>{"use strict";t.d(n,{x:()=>o});var r=t(67294),a=t(28309),o=function(e){var n=e.children,t=e.rule,o=(0,a.Iq)(),s=t?o(t):"";return s?r.createElement("div",{className:s},n):r.createElement(r.Fragment,null,n)}},78415:(e,n,t)=>{"use strict";t.d(n,{CV:()=>b,zJ:()=>I,KI:()=>w});var r=t(28655),a=t.n(r),o=t(71439),s=t(67294),i=t(19692),c=t(48537),l=t(86244),u=t(79316),p=t(80735),d=t(28309),m=t(14391),f=t(81162),g=t(14349),h=t(27390),x=t(83024),v=t(27952);function E(){var e=a()(["\n  fragment InResponseToPostPreview_mediaResource on Post {\n    inResponseToMediaResource {\n      mediumQuote {\n        ...Quote_quote\n      }\n    }\n  }\n  ","\n"]);return E=function(){return e},e}function y(){var e=a()(["\n  fragment InResponseToPostPreview_postResult on PostResult {\n    __typename\n    ... on Post {\n      id\n      title\n      mediumUrl\n      creator {\n        id\n        name\n      }\n      clapCount\n      responsesCount\n    }\n  }\n"]);return y=function(){return e},e}var P=function(e){return{fill:e.baseColor.fill.lighter}},b=function(e){var n,t=e.inResponseToPostResult,r=e.inResponseToMediaResource,a=e.padding,o=(0,d.Iq)();if(t)switch(t.__typename){case"Post":n=t}if(!n)return null;var c=n.title,E=n.creator&&n.creator.name,y=parseInt(n.clapCount,10),b=n.responsesCount||0,I=r&&r.mediumQuote&&(0,x.Gj)(r.mediumQuote),w=I&&I.type;if(w===m.NJ.IMG||w===m.NJ.IFRAME||w===m.NJ.COVER_TITLE||w===m.NJ.HR||w===m.NJ.MIXTAPE_EMBED||w===m.NJ.SECTION_CAPTION)return null;var T=s.createElement(u.P3,{href:(0,v.jV)(n)},s.createElement(l.Z,null,s.createElement(u.xu,{paddingLeft:"20px",paddingRight:"20px"},I&&w&&s.createElement(u.xu,{paddingBottom:"20px"},s.createElement(i.ZP,{paragraph:I,paragraphStyle:w,spaceTop:10,richTextStyle:"STREAM"})),s.createElement(u.xu,{display:"flex"},s.createElement(u.xu,{display:"flex",flexGrow:"1",flexShrink:"1",alignItems:"center"},s.createElement(p.F,{scale:"M",color:"DARKER",clamp:1,tag:"span"},c)),s.createElement(u.xu,{display:"flex",flexGrow:"0",alignItems:"center"},y>0?s.createElement(u.xu,{display:"flex",alignItems:"center"},s.createElement("span",{className:o(P)},s.createElement(u.xu,{tag:f.Z,marginRight:"4px"})),s.createElement(p.F,{scale:"M",tag:"div"},(0,h.pY)(y))):null,b>0?s.createElement(u.xu,{display:"flex",alignItems:"center"},s.createElement("span",{className:o(P)},s.createElement(u.xu,{tag:g.Z,marginLeft:"8px",marginRight:"4px"})),s.createElement(p.F,{scale:"M",tag:"div"},(0,h.pY)(b))):null)),s.createElement(p.F,{scale:"M"},E))));return a?s.createElement(u.xu,{padding:a},T):T},I=(0,o.Ps)(y()),w=(0,o.Ps)(E(),c.Q)},52078:(e,n,t)=>{"use strict";t.d(n,{Dj:()=>S,Cs:()=>k});var r=t(28655),a=t.n(r),o=t(71439),s=t(67294),i=t(28859),c=t(4743),l=t(47875),u=t(50493),p=t(88065),d=t(47713),m=t(57131),f=t(12617),g=t(9638),h=t(49925),x=t(66893),v=t(55077),E=t(98281),y=t(22091),P=t(79316),b=t(27572),I=t(6688),w=t(27390);function T(){var e=a()(["\n  fragment PostBodyInserts_post on Post {\n    collection {\n      ...auroraHooks_publisher\n    }\n    creator {\n      ...auroraHooks_publisher\n    }\n    isPublished\n    isShortform\n    # please note that the postMeteringOptions is defined in handlers that use PostBodyInserts\n    # (PostHandler and SequencePostHandler)\n    content(postMeteringOptions: $postMeteringOptions) {\n      bodyModel {\n        paragraphs {\n          name\n          text\n          type\n        }\n      }\n    }\n    ...CardByline_post\n    ...PostByline_post\n    ...PostFooterSocialPopover_post\n    ...ShareButtons_post\n    ...BookmarkButton_post\n    ...CreatorActionOverflowPopover_post\n  }\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n"]);return T=function(){return e},e}function O(e){var n=e.post,t=(0,I.I)(),r=(0,h.GT)(n.collection||n.creator),a=(0,x.P5)("enable_mute"),o={marginTop:"32px"},c={post:n,source:{name:"post_actions_header"}};return s.createElement(i.TA,{className:t(o),name:"byline",type:"byline",offset:{left:-600}},s.createElement(P.xu,{display:"flex",justifyContent:"space-between",xs:{marginTop:o.marginTop},sm:{flexDirection:"column-reverse",marginTop:o.marginTop}},r&&n.creator?s.createElement(g.u_,{avatar:s.createElement(E.ZP,{user:n.creator,scale:"XXS",link:!0,withHalo:!0}),publisher:n.creator,href:n.mediumUrl||void 0,isOneLine:!0,publishedAt:n.firstPublishedAt,showStar:!!n.isLocked,timeToRead:!n.isShortform&&n.readingTime?"".concat((0,w.Vd)(n.readingTime)," min read"):void 0,post:n}):s.createElement(l.Z,{scale:"M",post:n,showBio:!1,hideCollection:!0}),s.createElement(P.xu,{display:"flex",alignItems:"flex-end",print:{display:"none"},xs:{marginLeft:"0px",marginBottom:"30px"},sm:{marginLeft:"0px",marginBottom:"30px"},md:{marginLeft:"30px"},lg:{marginLeft:"30px"},xl:{marginLeft:"30px"}},s.createElement(P.xu,{display:"flex",alignItems:"center"},n.isPublished&&(!r||!n.isShortform)&&s.createElement(s.Fragment,null,r?s.createElement(P.xu,{paddingRight:"6px"},s.createElement(f.$,c)):s.createElement(v.n,c),s.createElement(P.xu,{flexGrow:a?void 0:"1",marginRight:a?"8px":"-6px"},s.createElement(b.cW,{source:{name:"post_actions_header"}},s.createElement(d.o,{post:n,susiEntry:"bookmark_preview"}))),n&&a&&s.createElement(P.xu,{flexGrow:"1",marginRight:"-6px"},s.createElement(P.Bn,null,(function(e){var t=e.show;return s.createElement(m.Z,{creator:null==n?void 0:n.creator,post:n,collection:null==n?void 0:n.collection,showLoadingIndicator:t})}))))))))}function _(e,n){return"".concat(n,"_").concat(e[n]?e[n].length:0)}function C(e,n,t,r,a){e[n]||(e[n]=[]),e[n].push({order:t,component:r,insertType:a})}function R(e,n,t){return function(r){var a="number"==typeof t.titleIndex,o=t.subtitleIndex||t.titleIndex||0,i=n[o]&&n[o].name;if(i&&0===o&&!a){var c=s.createElement(O,{post:e,key:"insert_postBylineGroupComponent_".concat(_(r,"first"))});C(r,"first","before",s.createElement(y.Pm,{size:"inset",key:"insert_MaxWidth_PostBylineGroupComponent_".concat(_(r,"first"))},c),"BYLINE")}else i&&C(r,i,"after",s.createElement(O,{post:e,key:"insert_PostBylineGroupComponent_".concat(_(r,i))}),"BYLINE");return r}}function N(e,n,t){return function(r){var a="number"==typeof t.titleIndex,o=Math.max(t.bannerImageIndex||t.subtitleIndex||t.titleIndex||0,t.subtitleIndex||t.titleIndex||0),i=n[o]&&n[o].name;if(i&&0===o&&!a){var c=s.createElement(u.Z,{post:e,mode:"INLINE",key:"insert_TOC_".concat(_(r,"first"))});C(r,"first","before",s.createElement(y.Pm,{size:"inset",key:"insert_MaxWidth_TableOfContents_".concat(_(r,"first"))},c),"TABLE_OF_CONTENTS")}else i&&C(r,i,"after",s.createElement(u.Z,{post:e,mode:"INLINE",key:"insert_TableOfContents_".concat(_(r,i))}),"TABLE_OF_CONTENTS");return r}}function S(e){var n=e&&e.content&&e.content.bodyModel&&e.content.bodyModel.paragraphs||void 0;if(n){var t=(0,c.LI)(n);return[R(e,n,t),N(e,n,t)].reduce((function(e,n){return n(e)}),{})}}var k=(0,o.Ps)(T(),h.C5,g.yu,l.H,f.u,v.$,p.z,m.G)},4442:(e,n,t)=>{"use strict";t.d(n,{mV:()=>P,Xc:()=>I,Z3:()=>b});var r=t(28655),a=t.n(r),o=t(71439),s=t(67294),i=t(70561),c=t(58864),l=t(30353),u=t(87392),p=t(56825),d=t(79316),m=t(27952);function f(){var e=a()(["\n  fragment NewsletterV3PostHeaderCTA_collection on Collection {\n    id\n    domain\n    slug\n    name\n    newsletterV3 {\n      id\n      slug\n      name\n    }\n  }\n"]);return f=function(){return e},e}var g=(0,o.Ps)(f()),h=function(e){var n=e.collection,t=(0,i.v9)((function(e){return e.config.authDomain})),r=n.newsletterV3||{id:"",slug:"",name:""},a=(0,m.iB)(r.slug,t,n);return s.createElement(s.Fragment,null,s.createElement(p.I,null,n.newsletterV3?s.createElement(s.Fragment,null,"This is an email from ",s.createElement((function(){return s.createElement(d.rU,{inline:!0,linkStyle:"OBVIOUS",href:a},r.name)}),null),", a newsletter by ",n.name,"."):s.createElement(s.Fragment,null,"This is an email from ",n.name,".")))},x=t(78415),v=t(35002);function E(){var e=a()(["\n  fragment PostHeader_meteringInfo on MeteringInfo {\n    ...MeterController_meteringInfo\n  }\n  ","\n"]);return E=function(){return e},e}function y(){var e=a()(["\n  fragment PostHeader_post on Post {\n    newsletterId\n    inResponseToPostResult {\n      ... on PostResult {\n        ...InResponseToPostPreview_postResult\n      }\n    }\n    topics {\n      name\n    }\n    tags {\n      id\n    }\n    collection {\n      ...NewsletterV3PostHeaderCTA_collection\n    }\n    layerCake\n    isLocked\n    id\n    firstPublishedAt\n    ...InResponseToPostPreview_mediaResource\n    ...MeterController_post\n    ...PostPaywallAlert_post\n    ...AudioPlayback_post\n  }\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n"]);return y=function(){return e},e}var P=(0,i.$j)((function(e){return{isAmp:e.config.isAmp}}))((function(e){var n,t,r=e.meteringInfo,a=e.post,o=e.isAmp;return s.createElement(d.MI,{columns:8},!!a.newsletterId&&!!a.collection&&s.createElement(h,{collection:a.collection}),s.createElement(x.CV,{inResponseToPostResult:a.inResponseToPostResult,inResponseToMediaResource:a.inResponseToMediaResource,padding:"10px 0 0"}),!!a.isLocked&&!!r&&s.createElement(u.rh,{meteringInfo:r,post:a}),s.createElement(l.C,{topics:null==a||null===(n=a.topics)||void 0===n?void 0:n.map((function(e){return e.name})),tags:null==a||null===(t=a.tags)||void 0===t?void 0:t.map((function(e){return e.id})),postId:null==a?void 0:a.id}),a.audioVersionUrl&&!o&&s.createElement(c.y,{post:a}))})),b=(0,o.Ps)(y(),x.zJ,x.KI,u.Wc,v.vN,c.i,g),I=(0,o.Ps)(E(),u.dc)},48537:(e,n,t)=>{"use strict";t.d(n,{Z:()=>O,Q:()=>_});var r=t(28655),a=t.n(r),o=t(34575),s=t.n(o),i=t(93913),c=t.n(i),l=t(78585),u=t.n(l),p=t(29754),d=t.n(p),m=t(2205),f=t.n(m),g=t(71439),h=t(67294),x=t(70561),v=t(19692),E=t(79316),y=t(80735),P=t(14391),b=t(83024),I=t(27952);function w(){var e=a()(["\n  fragment Quote_quote on Quote {\n    quoteId\n    userId\n    post {\n      id\n      title\n      mediumUrl\n      creator {\n        id\n        username\n        name\n        hasDomain\n      }\n    }\n    startOffset\n    endOffset\n    paragraphs {\n      text\n      type\n      markups {\n        anchorType\n        end\n        href\n        rel\n        start\n        title\n        type\n        userId\n      }\n      ...TextParagraph_paragraph\n    }\n    ...buildQuotePreviewParagraph_quote\n  }\n  ","\n  ","\n"]);return w=function(){return e},e}var T=function(e){function n(){return s()(this,n),u()(this,d()(n).apply(this,arguments))}return f()(n,e),c()(n,[{key:"render",value:function(){var e=this.props.quote;if(!e||null==e.startOffset||null==e.endOffset||!e.post||!e.post.id)return null;var n=e.post.title,t=e.post.creator&&e.post.creator.name,r=e.post.creator&&e.post.creator.username,a=e.post.creator&&e.post.creator.hasDomain||!1;if(!t||!r)return null;var o=(0,b.Gj)(e),s=o&&o.type;return o&&s?s===P.NJ.IMG||s===P.NJ.IFRAME||s===P.NJ.COVER_TITLE||s===P.NJ.HR||s===P.NJ.MIXTAPE_EMBED||s===P.NJ.SECTION_CAPTION?null:h.createElement(E.xu,{paddingLeft:"20px",paddingRight:"20px"},h.createElement(y.F,{scale:"M",tag:"span"},"From"," ",h.createElement(E.rU,{href:(0,I.jV)(e.post),inline:!0},n)," ","by"," ",h.createElement(E.rU,{href:(0,I.AW)(r,this.props.authDomain,a),inline:!0},t)),h.createElement(E.P3,{href:(0,I.jV)(e.post)},h.createElement(v.ZP,{paragraph:o,paragraphStyle:s,spaceTop:30,richTextStyle:"STREAM"}))):null}}]),n}(h.Component);const O=(0,x.$j)((function(e){return{authDomain:e.config.authDomain}}))(T);var _=(0,g.Ps)(w(),b.Sz,v.Rg)},86244:(e,n,t)=>{"use strict";t.d(n,{Z:()=>s});var r=t(67294),a=t(79316),o=t(28309);const s=function(e){var n=e.children,t=(0,o.Fg)();return r.createElement(a.xu,{backgroundColor:"BACKGROUND",border:"BASE_LIGHTER",borderRadius:"5px",boxShadow:"0 1px 4px ".concat(t.baseColor.border.lighter),marginBottom:"24px",padding:"23px 0"},n)}},79208:(e,n,t)=>{"use strict";t.d(n,{Dm:()=>r,JA:()=>v});var r,a=t(63038),o=t.n(a),s=t(87757),i=t.n(s),c=t(94301),l=t.n(c),u=t(67294),p=t(61250);!function(e){e[e.NONE=0]="NONE",e[e.STARTING=1]="STARTING",e[e.UPLOADING=2]="UPLOADING",e[e.UPLOADED=3]="UPLOADED"}(r||(r={}));var d=new Set(["jpg","jpeg","png","gif"]),m=function(e){return new Promise((function(n){return setTimeout(n,e)}))},f=function(e,n){var t,r;return i().async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,i().awrap(l()(e,{credentials:"same-origin",method:"POST",headers:{accept:"application/json","Content-Type":"application/json","x-xsrf-token":"1","X-Obvious-CID":"web"},body:JSON.stringify({url:n})}));case 2:return t=a.sent,a.next=5,i().awrap(t.text());case 5:return r=a.sent,a.abrupt("return",JSON.parse(r.replace("])}while(1);</x>","")));case 7:case"end":return a.stop()}}))},g=function(e,n){var t,r,a;return i().async((function(o){for(;;)switch(o.prev=o.next){case 0:return(t=new FormData).append("uploadedFile",n),o.next=4,i().awrap(l()(e,{credentials:"same-origin",method:"POST",headers:{"x-xsrf-token":"1","X-Obvious-CID":"web"},body:t}));case 4:return r=o.sent,o.next=7,i().awrap(r.text());case 7:return a=o.sent,o.abrupt("return",JSON.parse(a.replace("])}while(1);</x>","")));case 9:case"end":return o.stop()}}))},h="CreateUpload",x=new Error("Image upload failed. The URL you provided may be invalid."),v=function(e,n,t){var a=u.useState(r.NONE),s=o()(a,2),c=s[0],l=s[1],v=u.useRef(null),E=u.useCallback((function(){v.current&&v.current.click()}),[v.current]),y=(0,p.BS)(h),P=(0,p.BS)("CreateUploadUrl");function b(){return i().async((function(e){for(;;)switch(e.prev=e.next){case 0:return l(r.STARTING),e.next=3,i().awrap(m(0));case 3:l(r.UPLOADING);case 4:case"end":return e.stop()}}))}function I(a){var o,s,c,u,p,m,f,x;return i().async((function(v){for(;;)switch(v.prev=v.next){case 0:if(o=null==a?void 0:a[0]){v.next=3;break}return v.abrupt("return");case 3:if(s=o.name.split(".").pop(),d.has((null==s?void 0:s.toLowerCase())||"")){v.next=7;break}return t&&t(),v.abrupt("return");case 7:return v.next=9,i().awrap(b());case 9:if(v.prev=9,y){v.next=12;break}throw new Error("Expected ".concat(h," route to exist"));case 12:return v.next=14,i().awrap(g(y.pathPattern,o));case 14:u=v.sent,p=u.success,m=u.payload,p&&(null==m||null===(c=m.value)||void 0===c?void 0:c.md5)&&(f=URL.createObjectURL(o),(x=new Image).onload=function(){l(r.UPLOADED),e(m,{file:o,height:x.height,width:x.width},(function(){return l(r.NONE)}))},x.src=f),v.next=22;break;case 19:v.prev=19,v.t0=v.catch(9),n(v.t0);case 22:case"end":return v.stop()}}),null,null,[[9,19]])}function w(){I(this.files),this.value=""}return u.useEffect((function(){if(v.current)return v.current.addEventListener("change",w),function(){v.current&&v.current.removeEventListener("change",w)}}),[v.current]),{inputRef:v,fireClick:E,status:c,handleDropEvent:function(e){var n=e.dataTransfer;n&&I(n.files)},uploadUrl:function(t){var a,o,s,c,u;return i().async((function(p){for(;;)switch(p.prev=p.next){case 0:return p.next=2,i().awrap(b());case 2:if(p.prev=2,P){p.next=5;break}throw new Error("Expected ".concat(h," route to exist"));case 5:return p.next=7,i().awrap(f(P.pathPattern,t));case 7:o=p.sent,s=o.success,c=o.payload,s&&(null==c||null===(a=c.value)||void 0===a?void 0:a.fileId)?((u=new Image).onload=function(){l(r.UPLOADED),e(c,{url:t,height:u.height,width:u.width},(function(){return l(r.NONE)}))},u.onerror=function(){n(x)},u.src=t):n(x),p.next=15;break;case 12:p.prev=12,p.t0=p.catch(2),n(p.t0);case 15:case"end":return p.stop()}}),null,null,[[2,12]])}}}}}]);
//# sourceMappingURL=9296.7a7756f9.chunk.js.map